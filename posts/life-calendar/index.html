<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=content-language content="zh-cn"><meta name=author content="Sine"><meta name=description content="Life Calendar 最近花了点时间思考人生，感觉过去的有些事情，自己忘记了，就再也找不回来了。 很多事件都不是什么大事，也没有人替我记着，如果连我都忘了，那些"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="人生日历"><meta name=twitter:description content="Life Calendar 最近花了点时间思考人生，感觉过去的有些事情，自己忘记了，就再也找不回来了。 很多事件都不是什么大事，也没有人替我记着，如果连我都忘了，那些"><meta property="og:title" content="人生日历"><meta property="og:description" content="Life Calendar 最近花了点时间思考人生，感觉过去的有些事情，自己忘记了，就再也找不回来了。 很多事件都不是什么大事，也没有人替我记着，如果连我都忘了，那些"><meta property="og:type" content="article"><meta property="og:url" content="https://ssine.ink/posts/life-calendar/"><meta property="article:published_time" content="2018-12-13T00:00:00+00:00"><meta property="article:modified_time" content="2018-12-13T00:00:00+00:00"><title>人生日历 · Sine's Site</title><link rel=canonical href=https://ssine.ink/posts/life-calendar/><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel=stylesheet><link rel=preload href="https://ssine.ink/fonts/forkawesome-webfont.woff2?v=1.1.7" as=font type=font/woff2 crossorigin><link rel=stylesheet href=https://ssine.ink/css/coder.min.a050bb9724f6a498b574acf612d6d523bc68756ddc62579923710a8542947c52.css integrity="sha256-oFC7lyT2pJi1dKz2EtbVI7xodW3cYleZI3EKhUKUfFI=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://ssine.ink/css/coder-dark.min.126ad3988d46bdae6217a11105b53c9662bca05f39d42d3c0fb366919d334620.css integrity="sha256-EmrTmI1Gva5iF6ERBbU8lmK8oF851C08D7NmkZ0zRiA=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=https://ssine.ink/favicon.ico sizes=32x32><link rel=icon type=image/png href=https://ssine.ink/favicon.ico sizes=16x16><link rel=apple-touch-icon href=https://ssine.ink/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=https://ssine.ink/images/apple-touch-icon.png><meta name=generator content="Hugo 0.74.1"></head><body class=colorscheme-auto><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://ssine.ink/>Sine's Site</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://ssine.ink/posts/>博客</a></li><li class=navigation-item><a class=navigation-link href=https://kiwi.ssine.cc>维基</a></li><li class=navigation-item><a class=navigation-link href=https://ssine.ink/gallery>画廊</a></li><li class=navigation-item><a class=navigation-link href=https://ssine.ink/projects/>项目</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class=navigation-item><a href=https://ssine.ink/en/posts/life-calendar/>English</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title>人生日历</h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i><time datetime=2018-12-13T00:00:00Z>December 13, 2018</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>阅读时间：3 分钟</span></div></div></header><div><p><a href=https://ssine.ink/projects/calendar/>Life Calendar</a></p><p>最近花了点时间思考人生，感觉过去的有些事情，自己忘记了，就再也找不回来了。 很多事件都不是什么大事，也没有人替我记着，如果连我都忘了，那些事还有什么意义呢。 因此就想做一个东西，把过去每一天发生的事情，保存并清楚地展现出来。</p><p>用方格代表时间单位的想法是受到别人的启发产生的，源头大概可以追溯到<a href=https://waitbutwhy.com/2014/05/life-weeks.html>这篇文章</a>。</p><p>我想要做的就是一个互动版的下图：</p><p><img src=Weeks-block-LIFE1.png alt=1></p><p>首先进行设计。 为了方便平时记录，为一个事件分配一个条目，正好可以用 html 标签和标签属性来表示，如下:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!-- 
</span><span style=color:#75715e>Usage:
</span><span style=color:#75715e>    Put your events in divs.
</span><span style=color:#75715e>    Event metadata are discribed in tag attributes, include:
</span><span style=color:#75715e>        date: date for event in a day
</span><span style=color:#75715e>        start &amp; end: dates for events that stretch across several days
</span><span style=color:#75715e>        credit: how much &#39;meaning&#39; you give to that event (0-100, floating point)
</span><span style=color:#75715e>        icon(one-day event only): use a special icon on that day
</span><span style=color:#75715e>        color: use a special color on that day
</span><span style=color:#75715e>    Event contents can contain html, but it&#39;s recommended to keep it simple.
</span><span style=color:#75715e>
</span><span style=color:#75715e>Palette:
</span><span style=color:#75715e>    Big event: #A349A4
</span><span style=color:#75715e>    Base color: hue (0-360)
</span><span style=color:#75715e>--&gt;</span>

&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;base&#34;</span> <span style=color:#a6e22e>credit</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;10&#34;</span> <span style=color:#a6e22e>start</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;9/2/2013&#34;</span> <span style=color:#a6e22e>end</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;6/6/2016&#34;</span> <span style=color:#a6e22e>hue</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;192&#34;</span>&gt;
  &lt;<span style=color:#f92672>i</span>&gt;青岛二中&lt;/<span style=color:#f92672>i</span>&gt;
&lt;/<span style=color:#f92672>div</span>&gt;
&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;base&#34;</span> <span style=color:#a6e22e>credit</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;10&#34;</span> <span style=color:#a6e22e>start</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;9/1/2016&#34;</span> <span style=color:#a6e22e>end</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;8/31/2020&#34;</span> <span style=color:#a6e22e>hue</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;160&#34;</span>&gt;
  &lt;<span style=color:#f92672>i</span>&gt;北邮&lt;/<span style=color:#f92672>i</span>&gt;
&lt;/<span style=color:#f92672>div</span>&gt;
&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>start</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;6/7/2016&#34;</span> <span style=color:#a6e22e>end</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;6/8/2016&#34;</span> <span style=color:#a6e22e>color</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#A349A4&#34;</span>&gt;高考&lt;/<span style=color:#f92672>div</span>&gt;
&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>start</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;6/9/2016&#34;</span> <span style=color:#a6e22e>end</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;6/18/2016&#34;</span> <span style=color:#a6e22e>color</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#C8BFE7&#34;</span>&gt;一些大学自招&lt;/<span style=color:#f92672>div</span>&gt;

&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>date</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;9/1/2016&#34;</span> <span style=color:#a6e22e>color</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#A349A4&#34;</span>&gt;北邮-新生报到&lt;/<span style=color:#f92672>div</span>&gt;

&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>date</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;4/29/2017&#34;</span> <span style=color:#a6e22e>credit</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;30&#34;</span>&gt;第一次错过高铁&lt;/<span style=color:#f92672>div</span>&gt;
&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>date</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;7/7/2017&#34;</span> <span style=color:#a6e22e>credit</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;70&#34;</span>&gt;今天有雷暴&lt;/<span style=color:#f92672>div</span>&gt;
&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>date</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;10/15/2017&#34;</span> <span style=color:#a6e22e>credit</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;60&#34;</span>&gt;张学友演唱会&lt;/<span style=color:#f92672>div</span>&gt;
&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>date</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;10/26/2017&#34;</span> <span style=color:#a6e22e>credit</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;90&#34;</span>&gt;福州CCSP 铜奖&lt;/<span style=color:#f92672>div</span>&gt;
</code></pre></div><p>还要考虑如何使用颜色进行表示，感觉人生可以分成许多阶段，例如小学、初中、高中。 这样的阶段还可以细分，比如我在两个小学上过学。 这样的划分中，会为一段时间奠定一个“基调”。 同时，每一天里发生的事情对人的重要程度是不同的，可以通过色彩的浓淡来进行表示。 有了以上两点，选用 hsv 色彩空间比较合适：</p><p><img src=1280px-HSV_color_solid_cone_chroma_gray.png alt=2></p><p>“基调”使用 Hue 来表示，而重要程度使用 chroma(saturate 浓度) 来表示。 定义一天里发生过所有事情的重要程度用 credit 来表示，这个数取值范围为 0 - 100 。 这样就可以建立重要程度到颜色的转换了。</p><p>接下来就是关于实现的问题。 有点老派地决定用裸 js 实现，当然也是处于尽可能减少依赖的目的，我希望这个东西能够存活的时间尽可能久，那么只使用 js 是比较好的选择。 CSS 只提供了 hsl 模型，不过从 hsv 转到 hsl 很方便。</p><p>还有一点是性能的考量，由于一生中大约有 36500 天，那么要绘制三万多个 div 方格。 在操作 dom 的时候要注意尽可能减少触发浏览器重新绘制的次数。 从事件解析到对应的格子的方法比较简单，由于事件相对不多也就没有花心思优化。</p><p>最后写出来也就两百多行，效果还是不错的。 链接在文章头部。</p></div><footer></footer></article><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],processEscapes:true,processEnvironments:true},options:{skipHtmlTags:['script','noscript','style','textarea','pre']}};</script></section></div><footer class=footer><section class=container><p>© 2016 - 2023 正弦 | <a href=https://beian.miit.gov.cn/ target=_blank>京ICP备19051756号</a></p></section></footer></main><script src=https://ssine.ink/js/dark-mode.min.0213e1773e6d1c5a644f847c67a6f8abac49a3776e2976f6008038af8c5b76a1.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-127064931-1','auto');ga('send','pageview');}</script></body></html>